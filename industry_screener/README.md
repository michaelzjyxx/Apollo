# Industry Screener - Aè‚¡è¡Œä¸šç­›é€‰è‡ªåŠ¨åŒ–ç³»ç»Ÿ

åŸºäºiFinDæ•°æ®æºçš„Aè‚¡è¡Œä¸šç­›é€‰è‡ªåŠ¨åŒ–ç³»ç»Ÿ,å®ç°æ•°æ®è·å–ã€æŒ‡æ ‡è®¡ç®—ã€è¡Œä¸šè¯„åˆ†ã€å¯è§†åŒ–å±•ç¤ºã€å®šæœŸæ›´æ–°å’Œç­–ç•¥å›æµ‹çš„å®Œæ•´é—­ç¯ã€‚

## ç‰¹æ€§

- ğŸš€ **å…¨è‡ªåŠ¨åŒ–**: é€šè¿‡iFinD APIè‡ªåŠ¨è·å–23ä¸ªå®šé‡æŒ‡æ ‡æ•°æ®
- ğŸ“Š **æ™ºèƒ½è¯„åˆ†**: 100åˆ†åˆ¶è¯„åˆ†ä½“ç³»(70åˆ†å®šé‡ + 20åˆ†å®šæ€§ + 10åˆ†è°ƒæ•´)
- ğŸ“ˆ **å¯è§†åŒ–**: Streamlitäº¤äº’å¼çœ‹æ¿,é›·è¾¾å›¾ã€è¶‹åŠ¿å›¾ã€çº¢çº¿é¢„è­¦
- â° **å®šæ—¶æ›´æ–°**: å­£åº¦/æœˆåº¦/å‘¨åº¦è‡ªåŠ¨æ›´æ–°æ•°æ®
- ğŸ” **ç­–ç•¥å›æµ‹**: åŠ¨æ€è°ƒæ•´ç­–ç•¥,éªŒè¯è¯„åˆ†ä½“ç³»æœ‰æ•ˆæ€§
- âš™ï¸ **çµæ´»é…ç½®**: æ‰€æœ‰è¯„åˆ†æƒé‡ã€é˜ˆå€¼å‡å¯å‚æ•°åŒ–é…ç½®
- ğŸ”Œ **å¯æ‰©å±•**: é¢„ç•™ä¸ªè‚¡ç­›é€‰æ¥å£,ä¾¿äºæ‰©å±•

## æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Python 3.10+
- **æ•°æ®åº“**: MySQL 8.0+
- **ORM**: SQLAlchemy 2.0+
- **å¯è§†åŒ–**: Streamlit + Plotly
- **è°ƒåº¦**: APScheduler
- **æ•°æ®åˆ†æ**: Pandas + NumPy

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. é…ç½®

å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿å¹¶ä¿®æ”¹:

```bash
cp .env.example .env
cp config/config.yaml.example config/config.yaml
```

ç¼–è¾‘`.env`æ–‡ä»¶,é…ç½®æ•°æ®åº“å’ŒiFinD APIè´¦å·:

```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=your_username
DB_PASSWORD=your_password
DB_DATABASE=industry_screener

# iFinD APIé…ç½®
IFIND_USERNAME=your_ifind_username
IFIND_PASSWORD=your_ifind_password
```

### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
python main.py data init
```

### 4. è·å–å†å²æ•°æ®

```bash
python main.py data fetch --start-date 2020-01-01
```

### 5. å¯åŠ¨Webç•Œé¢

```bash
streamlit run src/ui/streamlit_app.py
```

è®¿é—® http://localhost:8501

## Webç•Œé¢åŠŸèƒ½

Streamlitå¯è§†åŒ–çœ‹æ¿æä¾›ä»¥ä¸‹åŠŸèƒ½:

- **ğŸ  é¦–é¡µæ¦‚è§ˆ**: TOP 10è¡Œä¸šå¡ç‰‡ã€è¯„åˆ†åˆ†å¸ƒå›¾ã€é›·è¾¾å›¾å¯¹æ¯”
- **ğŸ“ˆ è¡Œä¸šæ’å**: å¯ç­›é€‰çš„æ’åè¡¨ã€å„ç»´åº¦å †å æŸ±çŠ¶å›¾
- **ğŸ” è¡Œä¸šè¯¦æƒ…**: å•ä¸ªè¡Œä¸šçš„å†å²è¶‹åŠ¿ã€æˆåˆ†è‚¡ã€å®šæ€§åˆ†æ
- **ğŸ“‰ è¶‹åŠ¿åˆ†æ**: è¯„åˆ†è¶‹åŠ¿ã€æ’åå˜åŒ–ã€å…³é”®æŒ‡æ ‡ç›‘æ§
- **âš ï¸ çº¢çº¿ç›‘æ§**: çº¢çº¿è§¦å‘æƒ…å†µã€å®‰å…¨è¡Œä¸šåˆ—è¡¨
- **ğŸ’¼ å›æµ‹ç»“æœ**: æ”¶ç›Šæ›²çº¿ã€ç»©æ•ˆæŒ‡æ ‡ã€æŒä»“è®°å½•ã€äº¤æ˜“æ˜ç»†
- **âš™ï¸ ç³»ç»Ÿè®¾ç½®**: è¯„åˆ†æƒé‡é…ç½®ã€æ•°æ®ç®¡ç†ã€ç³»ç»Ÿä¿¡æ¯

## å‘½ä»¤è¡Œå·¥å…·

ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„CLIå·¥å…·,å¯é€šè¿‡å‘½ä»¤è¡Œç®¡ç†æ•°æ®ã€è¿è¡Œå›æµ‹ç­‰æ“ä½œã€‚

### æŸ¥çœ‹å¸®åŠ©

```bash
python main.py --help
```

### æ•°æ®ç®¡ç†

```bash
# åˆå§‹åŒ–æ•°æ®åº“
python main.py data init

# è·å–æ•°æ®
python main.py data fetch --start-date 2020-01-01 --end-date 2024-12-31

# è®¡ç®—æŒ‡æ ‡
python main.py data calculate --report-date 2024-09-30

# è®¡ç®—è¯„åˆ†(æ˜¾ç¤ºTOP 10)
python main.py data score --report-date 2024-09-30 --top-n 10
```

### å›æµ‹ç®¡ç†

```bash
# è¿è¡Œå›æµ‹
python main.py backtest run \
    --strategy dynamic_adjustment \
    --start-date 2020-01-01 \
    --end-date 2024-12-31 \
    --top-n 10 \
    --min-score 70 \
    --n-stocks 3 \
    --weight-method equal \
    --rebalance monthly

# åˆ—å‡ºå›æµ‹ç»“æœ
python main.py backtest list --limit 10

# æŸ¥çœ‹å›æµ‹è¯¦æƒ…
python main.py backtest show <backtest_name>
```

### è°ƒåº¦å™¨ç®¡ç†

```bash
# å¯åŠ¨è°ƒåº¦å™¨(å‰å°è¿è¡Œ)
python main.py scheduler start

# å¯åŠ¨è°ƒåº¦å™¨(åå°è¿è¡Œ)
python main.py scheduler start --daemon

# æ‰‹åŠ¨è§¦å‘ä»»åŠ¡
python main.py scheduler trigger --task quarterly
python main.py scheduler trigger --task monthly
python main.py scheduler trigger --task weekly
python main.py scheduler trigger --task annual
```

### å…¶ä»–å‘½ä»¤

```bash
# æŸ¥çœ‹ç‰ˆæœ¬
python main.py version

# è°ƒè¯•æ¨¡å¼
python main.py --debug <command>
```

## é¡¹ç›®ç»“æ„

```
industry_screener/
â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ data/           # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ui/             # Streamlitç•Œé¢
â”‚   â””â”€â”€ cli/            # å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ tests/              # æµ‹è¯•
â”œâ”€â”€ scripts/            # è„šæœ¬
â”œâ”€â”€ data/               # æ•°æ®æ–‡ä»¶(Gitå¿½ç•¥)
â””â”€â”€ docs/               # æ–‡æ¡£
```

## æ–‡æ¡£

- [ç”¨æˆ·æ‰‹å†Œ](docs/user_guide.md)
- [APIå‚è€ƒ](docs/api_reference.md)
- [éƒ¨ç½²æŒ‡å—](docs/deployment.md)
- [å¼€å‘æŒ‡å—](docs/development.md)
- [æŠ€æœ¯è®¾è®¡æ–‡æ¡£](../Plan/Aè‚¡ä»·å€¼æŠ•èµ„ç­–ç•¥æ¡†æ¶/02-æœºä¼šèµ„äº§æŠ•èµ„ç­–ç•¥/2ã€è‚¡ç¥¨ç­›é€‰æµç¨‹/è¡Œä¸šç­›é€‰/æŠ€æœ¯è®¾è®¡æ–‡æ¡£.md)

## è¯„åˆ†ä½“ç³»

### å®šé‡è¯„åˆ† (70åˆ†)

- **ç«äº‰æ ¼å±€** (15åˆ†): CR5é›†ä¸­åº¦ã€é¾™å¤´ä»½é¢å˜åŒ–ã€ä»·æ ¼ç¨³å®šæ€§ã€äº§èƒ½åˆ©ç”¨ç‡
- **ç›ˆåˆ©èƒ½åŠ›** (15åˆ†): ROEæ°´å¹³ä¸è¶‹åŠ¿ã€æ¯›åˆ©ç‡æ°´å¹³ä¸è¶‹åŠ¿
- **æˆé•¿æ€§** (10åˆ†): æ”¶å…¥å¢é€Ÿã€åˆ©æ¶¦å¢é€Ÿã€åˆ©æ¶¦å¼¹æ€§
- **ç°é‡‘æµ** (10åˆ†): OCF/NIæ¯”å€¼ã€èµ„æœ¬æ”¯å‡ºå¼ºåº¦
- **ä¼°å€¼** (10åˆ†): PE/PBå†å²åˆ†ä½ã€PEG
- **æ™¯æ°”åº¦** (5åˆ†): PMI/æ–°è®¢å•ã€M2/ç¤¾èã€PPI/CPI
- **å‘¨æœŸä½ç½®** (5åˆ†): åº“å­˜å‘¨æœŸã€åº“å­˜å‘¨è½¬

### å®šæ€§è¯„åˆ† (20åˆ†)

- æ”¿ç­–ç¯å¢ƒ (5åˆ†)
- å•†ä¸šæ¨¡å¼ (5åˆ†)
- è¿›å…¥å£å’ (5åˆ†)
- æŠ¤åŸæ²³æ·±åº¦ (5åˆ†)

### çº¢çº¿æ‰£åˆ† (-10åˆ†)

- æ¯›åˆ©ç‡è¿ç»­4å­£åº¦ä¸‹æ»‘>5pct
- æ”¶å…¥è¿ç»­2å­£åº¦ä¸‹æ»‘>20%
- PE/PBå†å²95%åˆ†ä½ä»¥ä¸Šç»´æŒ1æœˆ
- åŒ—å‘+ä¸»åŠ›èµ„é‡‘è¿ç»­8å‘¨æµå‡º>100äº¿

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®,è¯·æäº¤Issue

---

**å£°æ˜**: æœ¬ç³»ç»Ÿä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨,ä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®ã€‚æŠ•èµ„æœ‰é£é™©,å…¥å¸‚éœ€è°¨æ…ã€‚
