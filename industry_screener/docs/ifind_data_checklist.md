# iFinD 数据指标全量确认清单

本文档汇总了所有测试失败或需确认的字段。请在 iFinD 终端的“超级命令”或“代码生成器”中查找对应的真实代码和参数。

> **操作指南**:
> 1. 打开 iFinD 终端 -> 顶部菜单“量化” -> “超级命令” (或“数据接口”)。
> 2. 选择“HTTP”或“Python”模式。
> 3. 搜索对应指标（如“净利润”），选择需要的参数（如“单季”、“合并报表”）。
> 4. 查看生成的代码，将**指标名称**（如 `ths_net_profit_stock`）和**完整参数**（如 `100:REPORT`）填入下表。

---

## 🔴 第一部分：测试失败的指标 (需修正代码或参数)

以下指标在代码中使用现有名称测试**失败**（返回空值或报错）。请查找真实可用的代码。

### 1. 基础信息 (Basic Info)
| 指标说明 | 现有失效代码 | **[请填写] 示例代码** | **[请填写] 代码说明** |
| :--- | :--- | :--- | :--- |
| **ST状态** | `ths_stock_status` | `<示例代码待补充>` | `<代码说明待补充>` |

### 2. 核心财务报表 (Financials)
*注意：财务指标通常需要指定“报表类型”（如单季/累计）和“报表合并类型”。*

| 指标说明 | 现有失效代码 | **[请填写] 示例代码** | **[请填写] 代码说明** |
| :--- | :--- | :--- | :--- |
| **净利润** | `ths_net_profit_stock` | `formData:{"codes":"920000.BJ","indipara":[{"indicator":"ths_np_stock","indiparams":["20260331","1"]}]}` | ` indiparams 的第一个为报告期，按季度取，所以是只能填每年的四个季度的各自最后一天，如 20250331；第二为报表类型:1 - 合并报表；2 - 母公司报表；3 - 合并报表(调整)；4 - 母公司报表(调整)` |
| **净利润(TTM)** | `ths_net_profit_ttm_stock` | `formData:{"codes":"920000.BJ","indipara":[{"indicator":"ths_np_ttm_stock","indiparams":["2026-01-21","100"]}]}` | `第一个参数：交易日期:日期；第二个参数：TTM基准日:100 - 报表截止日期；101 - 报表公告日期` |
| **总资产** | `ths_total_assets_stock` | `formData:{"codes":"920000.BJ","indipara":[{"indicator":"ths_total_asset_pee_stock","indiparams":["20260331"]}]}` | ` indiparams 的第一个为报告期，按季度取，所以是只能填每年的四个季度的各自最后一天，如 20250331` |
| **总负债** | `ths_total_liabilities_stock` | `formData:{"codes":"920000.BJ","indipara":[{"indicator":"ths_total_liab_stock","indiparams":["20250331","1"]}]}` | `indiparams 的第一个为报告期，按季度取，所以是只能填每年的四个季度的各自最后一天，如 20250331；第二为报表类型:1 - 合并报表；2 - 母公司报表；3 - 合并报表(调整)；4 - 母公司报表(调整)` |
| **流动资产** | `ths_current_assets_stock` | `formData:{"codes":"920000.BJ","indipara":[{"indicator":"ths_total_current_assets_stock","indiparams":["20250331","1"]}]}` | `indiparams 的第一个为报告期，按季度取，所以是只能填每年的四个季度的各自最后一天，如 20250331；第二为报表类型:1 - 合并报表；2 - 母公司报表；3 - 合并报表(调整)；4 - 母公司报表(调整)` |
| **存货** | `ths_inventory_stock` | `formData:{"codes":"920000.BJ","indipara":[{"indicator":"ths_inventory_stock","indiparams":["20250331","1"]}]}` | `indiparams 的第一个为报告期，按季度取，所以是只能填每年的四个季度的各自最后一天，如 20250331；第二为报表类型:1 - 合并报表；2 - 母公司报表；3 - 合并报表(调整)；4 - 母公司报表(调整)` |
| **净资产(股东权益)** | `ths_net_assets_stock` | `formData:{"codes":"920000.BJ","indipara":[{"indicator":"ths_net_asset_pee_stock","indiparams":["8"]}]}` | `indiparams 的第一个为报告期，按季度取，所以是只能填每年的四个季度的各自最后一天，如 20250331` |
| **商誉** | `ths_goodwill_stock` | `formData:{"codes":"920000.BJ","indipara":[{"indicator":"ths_goodwill_stock","indiparams":["20250331","1"]}]}` | `indiparams 的第一个为报告期，按季度取，所以是只能填每年的四个季度的各自最后一天，如 20250331；第二为报表类型:1 - 合并报表；2 - 母公司报表；3 - 合并报表(调整)；4 - 母公司报表(调整)` |
| **营业收入** | `ths_operating_revenue_stock` | `formData:{"codes":"920000.BJ","indipara":[{"indicator":"ths_revenue_stock","indiparams":["20250331","1"]}]}` | `indiparams 的第一个为报告期，按季度取，所以是只能填每年的四个季度的各自最后一天，如 20250331；第二为报表类型:1 - 合并报表；2 - 母公司报表；3 - 合并报表(调整)；4 - 母公司报表(调整)` |
| **经营性现金流** | `ths_cash_flow_oper_act_stock` | `<示例代码待补充>` | `<代码说明待补充>` |
| **毛利率** | `ths_gross_profit_margin_stock` | `<示例代码待补充>` | `<代码说明待补充>` |
| **净利润增速(同比)**| `ths_net_profit_growth_rate_stock`| `<示例代码待补充>` | `<代码说明待补充>` |
| **营业成本** | `ths_operating_cost_stock` | `<示例代码待补充>` | `<代码说明待补充>` |
| **ROE** | `ths_roe_stock` | `<示例代码待补充>` | `<代码说明待补充>` |

### 3. 估值与股东 (Valuation & Shareholders)
| 指标说明 | 现有失效代码 | **[请填写] 示例代码** | **[请填写] 代码说明** |
| :--- | :--- | :--- | :--- |
| **PB (市净率)** | `ths_pb_stock` | `<示例代码待补充>` | `<代码说明待补充>` |
| **机构持仓比例** | `ths_institutional_ownership_stock`| `<示例代码待补充>` | `<代码说明待补充>` |
| **大股东质押比例** | `ths_pledge_ratio_stock` | `<示例代码待补充>` | `<代码说明待补充>` |

---

## 第二部分：待确认的宏观与行业指标 (从未配置)

以下指标目前只有占位符，必须查找 iFinD EDB 或行业指数代码。

### 1. 宏观经济 (EDB 经济数据库)
*通常以 `M` 开头，如 `M0000545`*

| 指标说明 | 内部占位符 | **[请填写] 示例代码** | **[请填写] 代码说明** |
| :--- | :--- | :--- | :--- |
| **PMI (制造业)** | `pmi` | `<示例代码待补充>` | `<代码说明待补充>` |
| **PMI:新订单** | `pmi_new_order` | `<示例代码待补充>` | `<代码说明待补充>` |
| **M2 同比增速** | `m2_yoy` | `<示例代码待补充>` | `<代码说明待补充>` |
| **社融规模存量同比**| `social_financing_yoy` | `<示例代码待补充>` | `<代码说明待补充>` |
| **PPI 同比** | `ppi_yoy` | `<示例代码待补充>` | `<代码说明待补充>` |
| **CPI 同比** | `cpi_yoy` | `<示例代码待补充>` | `<代码说明待补充>` |

### 2. 行业衍生数据 (申万二级行业指数)
*需确认是否有直接的行业指数指标，如 `ths_pe_ttm_index`*

| 指标说明 | 内部占位符 | **[请填写] 是否有直接指标?** | **[请填写] 示例代码** | **[请填写] 代码说明** |
| :--- | :--- | :--- | :--- | :--- |
| **行业 PE-TTM** | `pe_ttm` | □ 有直接指标 <br>□ 需聚合计算 | `<示例代码待补充>` | `<代码说明待补充>` |
| **行业 PB** | `pb` | □ 有直接指标 <br>□ 需聚合计算 | `<示例代码待补充>` | `<代码说明待补充>` |
| **北向资金净流入** | `northbound_flow` | □ 有直接指标 <br>□ 需聚合计算 | `<示例代码待补充>` | `<代码说明待补充>` |
| **主力资金净流入** | `main_fund_flow` | □ 有直接指标 <br>□ 需聚合计算 | `<示例代码待补充>` | `<代码说明待补充>` |
| **行业产能利用率** | `capacity_utilization` | □ 有直接指标 <br>□ 无法获取 | `<示例代码待补充>` | `<代码说明待补充>` |

---

## 🟡 第三部分：需确认逻辑的复杂指标

以下指标建议使用“聚合计算”模式（即拉取成分股后自己在代码里算），如果您能找到直接指标更好。

| 指标说明 | 建议方案 | **[请填写] 确认结果** | **[请填写] 示例代码** | **[请填写] 代码说明** |
| :--- | :--- | :--- | :--- | :--- |
| **行业 CR5** | 聚合计算 | □ 确认聚合 <br>□ 直接指标: `__________` | `<示例代码待补充>` | `<代码说明待补充>` |
| **行业龙头份额** | 聚合计算 | □ 确认聚合 <br>□ 直接指标: `__________` | `<示例代码待补充>` | `<代码说明待补充>` |
| **行业平均 ROE** | 聚合计算 | □ 确认聚合 <br>□ 直接指标: `__________` | `<示例代码待补充>` | `<代码说明待补充>` |
| **存货周转效率** | 聚合计算 | □ 确认聚合 <br>□ 直接指标: `__________` | `<示例代码待补充>` | `<代码说明待补充>` |
| **行业价格波动率** | 计算标准差 | □ 确认计算 <br>□ 直接指标: `__________` | `<示例代码待补充>` | `<代码说明待补充>` |

---

## ✅ 第四部分：已测试通过的指标 (无需填写)

以下指标已验证可用，**无需**再次确认：
*   股票简称 (`ths_stock_short_name_stock`)
*   上市日期 (`ths_ipo_date_stock`)
*   收盘价 (`ths_close_price_stock`)
*   总市值 (`ths_market_value_stock`)
*   PE-TTM (`ths_pe_ttm_stock`)
*   申万行业一二级 (`ths_the_sw_industry_stock`，参数：1/2 + 截止日期)
