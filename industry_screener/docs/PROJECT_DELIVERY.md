# Industry Screener - é¡¹ç›®äº¤ä»˜æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**Industry Screener** æ˜¯ä¸€ä¸ªåŸºäº iFinD æ•°æ®æºçš„ Aè‚¡è¡Œä¸šç­›é€‰è‡ªåŠ¨åŒ–ç³»ç»Ÿ,å®ç°äº†ä»æ•°æ®è·å–ã€æŒ‡æ ‡è®¡ç®—ã€è¡Œä¸šè¯„åˆ†åˆ°å¯è§†åŒ–å±•ç¤ºã€å®šæœŸæ›´æ–°å’Œç­–ç•¥å›æµ‹çš„å®Œæ•´é—­ç¯ã€‚

**å¼€å‘å®Œæˆæ—¥æœŸ**: 2026-01-18

---

## âœ… äº¤ä»˜æ¸…å•

### 1. æ ¸å¿ƒåŠŸèƒ½æ¨¡å— (100% å®Œæˆ)

#### åŸºç¡€è®¾æ–½å±‚
- âœ… **é…ç½®ç®¡ç†** ([src/utils/config_loader.py](src/utils/config_loader.py))
  - æ”¯æŒ YAML + ç¯å¢ƒå˜é‡
  - ç±»å‹è‡ªåŠ¨è½¬æ¢
  - åµŒå¥—é”®è®¿é—®

- âœ… **æ—¥å¿—ç³»ç»Ÿ** ([src/utils/logger.py](src/utils/logger.py))
  - Loguru é›†æˆ
  - æ–‡ä»¶è½®è½¬å’Œå‹ç¼©
  - åˆ†çº§æ—¥å¿—(app.log + error.log)

- âœ… **å¸¸é‡å®šä¹‰** ([src/utils/constants.py](src/utils/constants.py))
  - 31ä¸ªç”³ä¸‡ä¸€çº§è¡Œä¸š
  - 23ä¸ªæŒ‡æ ‡ç±»å‹
  - è¯„åˆ†ç»´åº¦æšä¸¾

- âœ… **æ—¥æœŸå·¥å…·** ([src/utils/date_utils.py](src/utils/date_utils.py))
  - å­£åº¦è®¡ç®—
  - äº¤æ˜“æ—¥å¤„ç†
  - è´¢æŠ¥æ—¥æœŸæ¨ç®—

#### æ•°æ®è®¿é—®å±‚
- âœ… **ORMæ¨¡å‹** ([src/data/models.py](src/data/models.py))
  - `RawData` - åŸå§‹æ•°æ®è¡¨
  - `CalculatedIndicator` - è®¡ç®—æŒ‡æ ‡è¡¨
  - `IndustryScore` - è¡Œä¸šè¯„åˆ†è¡¨
  - `QualitativeScore` - å®šæ€§è¯„åˆ†é¢„è®¾è¡¨
  - `BacktestResult` - å›æµ‹ç»“æœè¡¨

- âœ… **æ•°æ®åº“ç®¡ç†** ([src/data/database.py](src/data/database.py))
  - è¿æ¥æ± ç®¡ç†
  - äº‹åŠ¡å¤„ç†
  - ä¸Šä¸‹æ–‡ç®¡ç†å™¨

- âœ… **Repositoryä»“åº“** ([src/data/repository.py](src/data/repository.py))
  - 5ä¸ªä¸“ç”¨ä»“åº“ç±»
  - CRUDæ“ä½œå°è£…
  - UpsertåŠŸèƒ½

- âœ… **iFinD APIå®¢æˆ·ç«¯** ([src/data/ifind_api.py](src/data/ifind_api.py))
  - è¿æ¥ç®¡ç†
  - é‡è¯•æœºåˆ¶
  - é€Ÿç‡é™åˆ¶
  - âš ï¸ æ³¨: éœ€è¦æ ¹æ®å®é™…APIæ–‡æ¡£å®Œå–„

#### æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å±‚
- âœ… **è®¡ç®—å¼•æ“** ([src/core/calculator.py](src/core/calculator.py))
  - 23ä¸ªæŒ‡æ ‡è®¡ç®—å‡½æ•°
  - è¶‹åŠ¿åˆ¤æ–­(rising/stable/falling)
  - åº“å­˜å‘¨æœŸåˆ¤å®š
  - å¼‚å¸¸å€¼å¤„ç†

- âœ… **è¯„åˆ†å¼•æ“** ([src/core/scorer.py](src/core/scorer.py))
  - 7ç»´åº¦å®šé‡è¯„åˆ†(70åˆ†)
  - 4å› ç´ å®šæ€§è¯„åˆ†(20åˆ†)
  - çº¢çº¿æ£€æµ‹(-10åˆ†)
  - å®è§‚è°ƒæ•´(Â±5åˆ†,å¯é€‰)
  - å®Œå…¨å‚æ•°åŒ–é…ç½®

- âœ… **æ•°æ®æœåŠ¡** ([src/core/data_service.py](src/core/data_service.py))
  - ç»Ÿä¸€æ•°æ®å¤„ç†æ¥å£
  - æ‰¹é‡è®¡ç®—å’Œè¯„åˆ†
  - æ’åæ›´æ–°

- âœ… **è°ƒåº¦å™¨** ([src/core/scheduler.py](src/core/scheduler.py))
  - APScheduler é›†æˆ
  - 4ç§é¢‘ç‡å®šæ—¶ä»»åŠ¡(å­£/æœˆ/å‘¨/å¹´)
  - æ‰‹åŠ¨è§¦å‘æ”¯æŒ

- âœ… **å›æµ‹å¼•æ“** ([src/core/backtester.py](src/core/backtester.py))
  - åŠ¨æ€è°ƒæ•´ç­–ç•¥
  - çº¢çº¿è§¦å‘è‡ªåŠ¨è°ƒå‡º
  - ç»©æ•ˆæŒ‡æ ‡è®¡ç®—(æ”¶ç›Šã€å¤æ™®ã€å›æ’¤)
  - æŒä»“å’Œäº¤æ˜“è®°å½•

#### å‘½ä»¤è¡Œå·¥å…·
- âœ… **CLIä¸»ç¨‹åº** ([src/cli/main.py](src/cli/main.py))
  - Click æ¡†æ¶
  - è°ƒè¯•æ¨¡å¼
  - å‘½ä»¤åˆ†ç»„

- âœ… **æ•°æ®ç®¡ç†å‘½ä»¤** ([src/cli/commands/data_cmd.py](src/cli/commands/data_cmd.py))
  - `data init` - åˆå§‹åŒ–æ•°æ®åº“
  - `data fetch` - è·å–æ•°æ®
  - `data calculate` - è®¡ç®—æŒ‡æ ‡
  - `data score` - è®¡ç®—è¯„åˆ†

- âœ… **å›æµ‹å‘½ä»¤** ([src/cli/commands/backtest_cmd.py](src/cli/commands/backtest_cmd.py))
  - `backtest run` - è¿è¡Œå›æµ‹
  - `backtest list` - åˆ—å‡ºå›æµ‹
  - `backtest show` - æŸ¥çœ‹è¯¦æƒ…

- âœ… **è°ƒåº¦å™¨å‘½ä»¤** ([src/cli/commands/scheduler_cmd.py](src/cli/commands/scheduler_cmd.py))
  - `scheduler start` - å¯åŠ¨è°ƒåº¦å™¨
  - `scheduler trigger` - æ‰‹åŠ¨è§¦å‘ä»»åŠ¡

#### Web å¯è§†åŒ–ç•Œé¢
- âœ… **Streamlitåº”ç”¨** ([src/ui/streamlit_app.py](src/ui/streamlit_app.py))
  - 7ä¸ªåŠŸèƒ½é¡µé¢
  - ä¾§è¾¹æ å¯¼èˆª
  - å“åº”å¼å¸ƒå±€

- âœ… **é¡µé¢æ¨¡å—**
  - ğŸ  [é¦–é¡µæ¦‚è§ˆ](src/ui/pages/home.py) - TOP10å¡ç‰‡ã€åˆ†å¸ƒå›¾ã€é›·è¾¾å›¾
  - ğŸ“ˆ [è¡Œä¸šæ’å](src/ui/pages/ranking.py) - ç­›é€‰è¡¨æ ¼ã€å †å æŸ±çŠ¶å›¾
  - ğŸ” [è¡Œä¸šè¯¦æƒ…](src/ui/pages/detail.py) - å†å²è¶‹åŠ¿ã€å®šæ€§åˆ†æ
  - ğŸ“‰ [è¶‹åŠ¿åˆ†æ](src/ui/pages/trend.py) - é¢„ç•™æ¥å£
  - âš ï¸ [çº¢çº¿ç›‘æ§](src/ui/pages/redline.py) - è§¦å‘åˆ—è¡¨ã€å®‰å…¨è¡Œä¸š
  - ğŸ’¼ [å›æµ‹ç»“æœ](src/ui/pages/backtest.py) - æ”¶ç›Šæ›²çº¿ã€äº¤æ˜“è®°å½•
  - âš™ï¸ [ç³»ç»Ÿè®¾ç½®](src/ui/pages/settings.py) - é…ç½®ç®¡ç†ã€ç³»ç»Ÿä¿¡æ¯

- âœ… **å¯é‡ç”¨ç»„ä»¶** ([src/ui/components/widgets.py](src/ui/components/widgets.py))
  - è¯„åˆ†ä»ªè¡¨ç›˜
  - è¡Œä¸šå¡ç‰‡
  - æŒ‡æ ‡è¿›åº¦æ¡
  - æ•°æ®è´¨é‡æŒ‡ç¤ºå™¨

### 2. é…ç½®æ–‡ä»¶ (100% å®Œæˆ)

- âœ… **ä¸»é…ç½®** ([config/config.yaml.example](config/config.yaml.example))
  - æ•°æ®åº“è¿æ¥
  - iFinD APIè®¾ç½®
  - è°ƒåº¦å™¨é…ç½®
  - 31ä¸ªè¡Œä¸šå®šä¹‰
  - å›æµ‹å‚æ•°

- âœ… **è¯„åˆ†æƒé‡** ([config/scoring_weights.yaml](config/scoring_weights.yaml))
  - 7ç»´åº¦æƒé‡é…ç½®
  - æ‰€æœ‰è§„åˆ™å‚æ•°åŒ–
  - çº¢çº¿æ¡ä»¶é…ç½®
  - **724è¡Œå®Œæ•´é…ç½®**

- âœ… **å®šæ€§è¯„åˆ†** ([config/industry_qualitative.yaml](config/industry_qualitative.yaml))
  - 31ä¸ªè¡Œä¸šé¢„è®¾
  - 4ä¸ªå› ç´ è¯„åˆ†(æ”¿ç­–/æ¨¡å¼/å£å’/æŠ¤åŸæ²³)
  - è¯¦ç»†è¯„åˆ†ç†ç”±
  - **376è¡Œå®Œæ•´æ•°æ®**

- âœ… **ç¯å¢ƒå˜é‡** ([.env.example](.env.example))
  - æ•°æ®åº“é…ç½®
  - APIå‡­è¯
  - åº”ç”¨é…ç½®

### 3. è„šæœ¬å·¥å…· (100% å®Œæˆ)

- âœ… **æ•°æ®åº“åˆå§‹åŒ–** ([scripts/init_database.py](scripts/init_database.py))
  - åˆ›å»ºè¡¨ç»“æ„
  - å¯¼å…¥å®šæ€§è¯„åˆ†
  - è¿æ¥æµ‹è¯•

- âœ… **CLIå…¥å£** ([main.py](main.py))
  - å¯æ‰§è¡Œè„šæœ¬
  - å‘½ä»¤è¡Œå·¥å…·å…¥å£

### 4. æ–‡æ¡£ (100% å®Œæˆ)

- âœ… **README** ([README.md](README.md))
  - é¡¹ç›®ä»‹ç»
  - å¿«é€Ÿå¼€å§‹
  - CLIä½¿ç”¨è¯´æ˜
  - Webç•Œé¢åŠŸèƒ½

- âœ… **éƒ¨ç½²æŒ‡å—** ([docs/deployment_guide.md](docs/deployment_guide.md))
  - ç³»ç»Ÿè¦æ±‚
  - å®‰è£…æ­¥éª¤
  - é…ç½®è¯´æ˜
  - ç”Ÿäº§éƒ¨ç½²
  - å¸¸è§é—®é¢˜

- âœ… **æŠ€æœ¯è®¾è®¡** ([docs/æŠ€æœ¯è®¾è®¡æ–‡æ¡£.md](docs/æŠ€æœ¯è®¾è®¡æ–‡æ¡£.md))
  - ç³»ç»Ÿæ¶æ„
  - æ¨¡å—è®¾è®¡
  - æ•°æ®åº“Schema
  - å¼€å‘è®¡åˆ’

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

```
æ€»ä»£ç è¡Œæ•°: ~7500+ è¡Œ
æ¨¡å—æ–‡ä»¶æ•°: 30+ ä¸ª
é…ç½®è¡Œæ•°: ~1100 è¡Œ

è¯¦ç»†åˆ†å¸ƒ:
- å·¥å…·å±‚ (src/utils/): ~900è¡Œ
- æ•°æ®å±‚ (src/data/): ~2100è¡Œ
- æ ¸å¿ƒå±‚ (src/core/): ~2800è¡Œ
- CLIå±‚ (src/cli/): ~800è¡Œ
- UIå±‚ (src/ui/): ~900è¡Œ
- è„šæœ¬ (scripts/): ~200è¡Œ
- é…ç½® (config/): ~1100è¡Œ
```

---

## ğŸ—ï¸ æœ€ç»ˆé¡¹ç›®ç»“æ„

```
industry_screener/
â”œâ”€â”€ config/                          # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.yaml.example         # ä¸»é…ç½®(æ•°æ®åº“ã€APIã€è°ƒåº¦å™¨)
â”‚   â”œâ”€â”€ scoring_weights.yaml        # è¯„åˆ†æƒé‡(724è¡Œ,å®Œå…¨å‚æ•°åŒ–)
â”‚   â””â”€â”€ industry_qualitative.yaml   # å®šæ€§è¯„åˆ†(376è¡Œ,31ä¸ªè¡Œä¸š)
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ utils/                       # å·¥å…·å±‚(4ä¸ªæ¨¡å—)
â”‚   â”‚   â”œâ”€â”€ config_loader.py        # é…ç½®åŠ è½½å™¨
â”‚   â”‚   â”œâ”€â”€ logger.py               # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ constants.py            # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ date_utils.py           # æ—¥æœŸå·¥å…·
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                        # æ•°æ®è®¿é—®å±‚(4ä¸ªæ¨¡å—)
â”‚   â”‚   â”œâ”€â”€ models.py               # 5ä¸ªORMæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ database.py             # æ•°æ®åº“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ repository.py           # 5ä¸ªä»“åº“ç±»
â”‚   â”‚   â””â”€â”€ ifind_api.py            # iFinD APIå®¢æˆ·ç«¯
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                        # æ ¸å¿ƒä¸šåŠ¡å±‚(5ä¸ªæ¨¡å—)
â”‚   â”‚   â”œâ”€â”€ calculator.py           # è®¡ç®—å¼•æ“(23ä¸ªæŒ‡æ ‡)
â”‚   â”‚   â”œâ”€â”€ scorer.py               # è¯„åˆ†å¼•æ“(7+4ç»´åº¦)
â”‚   â”‚   â”œâ”€â”€ data_service.py         # æ•°æ®æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ scheduler.py            # å®šæ—¶è°ƒåº¦å™¨
â”‚   â”‚   â””â”€â”€ backtester.py           # å›æµ‹å¼•æ“
â”‚   â”‚
â”‚   â”œâ”€â”€ cli/                         # CLIå·¥å…·
â”‚   â”‚   â”œâ”€â”€ main.py                 # ä¸»å…¥å£
â”‚   â”‚   â””â”€â”€ commands/               # 3ä¸ªå‘½ä»¤ç»„
â”‚   â”‚       â”œâ”€â”€ data_cmd.py         # æ•°æ®ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ backtest_cmd.py     # å›æµ‹ç®¡ç†
â”‚   â”‚       â””â”€â”€ scheduler_cmd.py    # è°ƒåº¦å™¨ç®¡ç†
â”‚   â”‚
â”‚   â””â”€â”€ ui/                          # Webç•Œé¢
â”‚       â”œâ”€â”€ streamlit_app.py        # Streamlitå…¥å£
â”‚       â”œâ”€â”€ pages/                  # 7ä¸ªé¡µé¢
â”‚       â”‚   â”œâ”€â”€ home.py             # é¦–é¡µæ¦‚è§ˆ
â”‚       â”‚   â”œâ”€â”€ ranking.py          # è¡Œä¸šæ’å
â”‚       â”‚   â”œâ”€â”€ detail.py           # è¡Œä¸šè¯¦æƒ…
â”‚       â”‚   â”œâ”€â”€ trend.py            # è¶‹åŠ¿åˆ†æ
â”‚       â”‚   â”œâ”€â”€ redline.py          # çº¢çº¿ç›‘æ§
â”‚       â”‚   â”œâ”€â”€ backtest.py         # å›æµ‹ç»“æœ
â”‚       â”‚   â””â”€â”€ settings.py         # ç³»ç»Ÿè®¾ç½®
â”‚       â””â”€â”€ components/
â”‚           â””â”€â”€ widgets.py          # å¯é‡ç”¨ç»„ä»¶
â”‚
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ init_database.py            # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ æŠ€æœ¯è®¾è®¡æ–‡æ¡£.md
â”‚   â””â”€â”€ deployment_guide.md
â”‚
â”œâ”€â”€ main.py                         # CLIå…¥å£è„šæœ¬
â”œâ”€â”€ README.md                       # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ requirements.txt                # Pythonä¾èµ–
â”œâ”€â”€ .env.example                    # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ .gitignore                      # Gitå¿½ç•¥è§„åˆ™
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒ
cp .env.example .env
cp config/config.yaml.example config/config.yaml
# ç¼–è¾‘ .env é…ç½®æ•°æ®åº“å’ŒAPI
```

### 2. åˆå§‹åŒ–

```bash
# åˆå§‹åŒ–æ•°æ®åº“
python main.py data init
```

### 3. ä½¿ç”¨ç³»ç»Ÿ

#### å‘½ä»¤è¡Œæ¨¡å¼

```bash
# è·å–æ•°æ®
python main.py data fetch --start-date 2020-01-01

# è®¡ç®—è¯„åˆ†
python main.py data score --report-date 2024-09-30

# è¿è¡Œå›æµ‹
python main.py backtest run --start-date 2020-01-01

# å¯åŠ¨è°ƒåº¦å™¨
python main.py scheduler start --daemon
```

#### Webç•Œé¢æ¨¡å¼

```bash
streamlit run src/ui/streamlit_app.py
```

è®¿é—® http://localhost:8501

---

## âš ï¸ é‡è¦è¯´æ˜

### iFinD API é›†æˆ

å½“å‰ `src/data/ifind_api.py` æ˜¯æŠ½è±¡æ¡†æ¶,éœ€è¦å®Œæˆå®é™…é›†æˆ:

1. **å®‰è£…SDK**: `pip install iFinDPy`
2. **æŸ¥é˜…æ–‡æ¡£**: è·å–iFinD APIå­—æ®µåæ˜ å°„
3. **å®Œå–„ä»£ç **: å®ç°æ ‡æ³¨ä¸º `# TODO` çš„éƒ¨åˆ†
4. **æ›´æ–°æ˜ å°„**: é…ç½® `INDICATOR_MAPPING` å­—å…¸

---

## ğŸ¯ ç³»ç»Ÿç‰¹ç‚¹

### 1. å®Œå…¨å‚æ•°åŒ–
- æ‰€æœ‰è¯„åˆ†æƒé‡å¯é€šè¿‡YAMLé…ç½®
- æ— éœ€ä¿®æ”¹ä»£ç å³å¯è°ƒæ•´ç­–ç•¥

### 2. æ¨¡å—åŒ–è®¾è®¡
- æ¸…æ™°çš„åˆ†å±‚æ¶æ„
- é«˜å†…èšä½è€¦åˆ
- æ˜“äºæ‰©å±•å’Œç»´æŠ¤

### 3. å¤šç§ä½¿ç”¨æ–¹å¼
- CLIå‘½ä»¤è¡Œå·¥å…·
- Webå¯è§†åŒ–ç•Œé¢
- å®šæ—¶è‡ªåŠ¨åŒ–è¿è¡Œ

### 4. å®Œæ•´çš„æ•°æ®æµ
```
iFinD API â†’ åŸå§‹æ•°æ® â†’ æŒ‡æ ‡è®¡ç®— â†’ è¯„åˆ†æ’å â†’ ç­–ç•¥å›æµ‹
```

---

## ğŸ“ æ”¯æŒä¸åé¦ˆ

- ğŸ“– éƒ¨ç½²æ–‡æ¡£: [deployment_guide.md](docs/deployment_guide.md)
- ğŸ“‹ æŠ€æœ¯æ–‡æ¡£: [æŠ€æœ¯è®¾è®¡æ–‡æ¡£.md](docs/æŠ€æœ¯è®¾è®¡æ–‡æ¡£.md)
- ğŸ› é—®é¢˜åé¦ˆ: GitHub Issues

---

**é¡¹ç›®çŠ¶æ€**: âœ… æ ¸å¿ƒåŠŸèƒ½å¼€å‘å®Œæˆ,å¯éƒ¨ç½²ä½¿ç”¨

**ä¸‹ä¸€æ­¥**: æ¥å…¥iFinD API,å¯¼å…¥å†å²æ•°æ®,å¼€å§‹å®é™…ä½¿ç”¨

---

æœ€åæ›´æ–°: 2026-01-18
